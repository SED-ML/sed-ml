% variable class
\label{class:variable}
\concept{Variables} are references to already existing entities, either existing in one of the defined \hyperref[class:model]{models} or externally defined \hyperref[sec:symbol]{symbols} (\fig{variable}). 
%
\sedfig[width=0.3\textwidth]{variableClass}{The Variable class}{fig:variable}
%
If the variable is defined through a reference to a model constituent, such as an SBML species, then the reference is specified using the  \hyperref[sec:target]{target} attribute.
If the variable is defined through a reference to an external entity, then the  \hyperref[sec:symbol]{symbol} attribute is used. It holds a SED-ML \hyperref[sec:uriScheme]{URI}. A \code{variable} is  always placed inside a \hyperref[class:listOfVariables]{listOfVariables}. \code{Symbol} and \code{target} must not be used together in a single instance of Variable.

\tabtext{variable}{Variable}
%
\begin{table}[ht]
\center
\begin{tabular}{|l|l|}
\hline
\textbf{\attribute} & \textbf{\desc}\\
\hline
metaid$^{o}$ & \refpage{sec:metaID}\\
id & \refpage{sec:id} \\
name$^{o}$ & \refpage{sec:name}\\
\hline
target & \refpage{sec:target}\\
symbol & \refpage{sec:symbol}\\
\hline
taskReference & \refpage{sec:taskReference}\\
modelReference & \refpage{sec:modelReference}\\
\hline
\hline
\textbf{\subelements} & \textbf{\desc}\\
\hline
notes$^{o}$ & \refpage{class:notes}\\
annotation$^{o}$ & \refpage{class:annotation}\\
\hline
\end{tabular}
\label{tab:variable}
\caption{\tabcap{Variable}}
\end{table}
%

A \code{variable} element must contain a \hyperref[sec:taskReference]{taskReference} if it occurs inside a \code{listOfVariables} inside a \hyperref[class:dataGenerator]{dataGenerator} element. A \code{variable} element must contain a \hyperref[sec:modelReference]{modelReference} if it occurs inside a \code{listOfVariables} inside a \hyperref[class:computeChange]{computeChange} element.

%
\lsttext{variable}{variable}
%
\begin{myXmlLst}{SED-ML \code{variable} definitions inside the \code{computeChange} element and inside the \code{dataGenerator} element}{lst:variable}
<sedML>
 <listOfModels>
  <model [..]>
   <listOfChanges>
    <computeChange target="TARGET ELEMENT OR ATTRIBUTE">
     <listOfVariables>
       <variable id="v1" name="maximum velocity" 
        target="XPath TO A MODEL ELEMENT OR ATTRIBUTE IN ANY SPECIFIED MODEL" />
      [FURTHER VARIABLE DEFINITIONS]
     </listOfVariables>
     [..]
    </computeChange>
   </listOfChanges>
   [..]
  </model>
  [..]
 </listOfModels>
 <listOfDataGenerators>
  <dataGenerator [..]>
   <listOfVariables>
    <variable id="v2" name="time" task="task1" symbol="urn:sedml:symbol:time" />
      [FURTHER VARIABLE DEFINITIONS]
   </listOfVariables>
  </dataGenerator>
 </listOfDataGenerators>
 [..]
</sedML>
\end{myXmlLst}
%
Listing \ref{lst:variable} defines a variable \code{v1} (line 7) to compute a change on a model constituent (referenced by the \code{target} attribute on \element{computeChange} in line 5). The value of \code{v1} corresponds with the value of the targeted model constituent references by the \code{target} attribute in line 8. 
The second variable, \code{v2} (line 21), is used inside a \code{dataGenerator}. As the variable is \concept{time} as used in  \code{task1}, the \code{symbol} attribute is used to refer to the SED-ML URI for time (line 21).

\subsubsection{The \element{target} attribute}
\label{sec:target}
An instance of \concept{Variable} refers to a model constituent inside a particular \hyperref[class:model]{model} through an \concept{XPath} expression stored in the required \concept{target} attribute. 
%
XPath  unambiguously identifies an element or attribute in an XML file.

\lsttext{target}{target}
%
\begin{myXmlLst}{SED-ML \code{target} definition}{lst:target}
<model id="m0001" language="urn:sedml:language:sbml" 
 source="urn:miriam:biomodels.db:BIOMD0000000012">
 <listOfChanges>
  <computeChange [..]>
   <listOfVariables>
    <variable id="v1" name="TetR protein" target="/sbml/listOfSpecies/species[@id='PY']" />
   </listOfVariables>
  </computeChange>
 </listOfChanges>
</model>
\end{myXmlLst}
%
Please note that the identifier and names inside the SED-ML document do not have to comply with the identifiers and names that the model and its constituents carry in the model definition. In  example \ref{lst:target}, the variable with ID \code{v1} is defined. It is described as the \code{TetR protein}. The reference points to a species in the referenced SBML model. The particular species can be identified through its ID in the SBML model, namely \code{PY}. However, SED-ML does not forbid to use identical identifiers and names as in the referenced models neither. The following is the same valid SED-ML example for the specification of a variable as the above in listing \ref{lst:variable}, but with different naming:
%
\begin{myXmlLst}{SED-ML variable definition using the original model identifier and name in SED-ML}{}
<model id="m0001" language="urn:sedml:language:sbml" 
 source="urn:miriam:biomodels.db:BIOMD0000000012">
 <listOfChanges>
  <computeChange [..] />
   <listOfVariables>
    <variable id="PY" name="TetR protein" target="/sbml/listOfSpecies/species[@id='PY']" />
   </listOfVariables>
  </computeChange>
 </listOfChanges>
</model>
\end{myXmlLst}
%

The XPath expression used in the \concept{\code{target}} attribute unambiguously leads to the particular place in the XML SBML model -- the species is to be found in the \emph{sbml} element, and there inside the \emph{listOfSpecies}:
%
\begin{myXmlLst}{Species definition in the referenced model (extracted from \url{urn:miriam:biomodels.db:BIOMD0000000012})}{}
<sbml [..]>
 <listOfSpecies]
  <species metaid="PY" id="PY" name="TetR protein" [..]>
   [..]
  </species>
 </listOfSpecies>
 [..]
</sbml>
\end{myXmlLst}
%

\subsubsection{The \element{symbol} attribute}
\label{sec:symbol}

\concept{Symbols} are predefined, implicit variables that can be called in a SED-ML file by referring to the defined URNs representing that variable's concept. The notion of implicit variables is explained in section \ref{sec:implicitVariable} on page \refpage{sec:implicitVariable}.

\lsttext{symbol}{symbol}
%
\begin{myXmlLst}{SED-ML \code{symbol} definition}{lst:symbol}
<model id="m0001" language="urn:sedml:language:sbml" 
 source="urn:miriam:biomodels.db:BIOMD0000000012">
 <listOfChanges>
  <computeChange [..]> 
   <listOfVariables>
    <variable id="t1" name="time" symbol="urn:sedml:symbol:time" />
   </listOfVariables>
   [CHANGE COMPUTATION]
  </computeChange>
 </listOfChanges>
</model>
\end{myXmlLst}
%
The example shows a computed change of model \code{m001}. To specify that change, a symbol is first defined, namely the SED-ML symbol for \code{time} is assigned to the variable \code{t1}. How to compute the change itself is explained in section \ref{class:computeChange}.

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../sed-ml-L1V1"
%%% End: 
