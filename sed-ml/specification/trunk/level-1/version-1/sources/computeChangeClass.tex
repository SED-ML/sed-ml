% ChangeAttribute Class
\label{class:computeChange}
The \concept{ComputeChange} is used to make changes on any element of the XML file addressable by an XPath expression, where the changes are described by mathematical expressions through MathML. 

\tabtext{computeChange}{ComputeChange}
%
\begin{table}[ht]
\center
\begin{tabular}{|l|l|}
\hline
\textbf{\attribute} & \textbf{\desc}\\
\hline
metaid$^{o}$ & \refpage{sec:metaID}\\
id & \refpage{sec:id} \\
name$^{o}$ & \refpage{sec:name}\\
target & \refpage{sec:target}\\
\alert{math} &\refpage{sec:math}\\
%listOfVariables$^{o}$ & \refpage{sec:listOfVariables}\\
%listOfParameter$^{o}$ & \refpage{sec:listOfParameters}\\
\hline
\hline
\textbf{\subelements} & \textbf{\desc}\\
\hline
notes$^{o}$ & \refpage{class:notes}\\
annotation$^{o}$ & \refpage{class:annotation}\\
variable$^{o}$ & \refpage{class:variable}\\
parameter$^{o}$ & \refpage{class:parameter}\\
\hline
\end{tabular}
\label{tab:computeChange}
\caption{\tabcap{ComputeChange}, \alert{math currently is an attribute, probably should be turned into an element (see listing \ref{lst:computeChange})}}
\end{table}
%

The \element{target} attribute contains the XPath addressing the piece of XML that is to be changed. 
It is possible to introduce additional parameters for the mathematics. Therefore, the parameters first need to be defined in the \concept{listOfParameters}. They are then referenced through their ID.
To use model variables for the definition of a mathematical expression, those variables need to be defined in the \concept{listOfVariables} first, and can then be incorporated through their ID.

\paragraph{The \element{math} attribute}
\label{sec:math}

The \element{math} element is used to define mathematical functions. 
If used as an attribute of the \concept{ComputeChange} class, it computes the change of the element or attribute addressed by the \hyperref[sec:target]{target} attribute.

An example is given in listing \ref{lst:computeChange}.
%
\begin{myXmlLst}{The computeChange element}{lst:computeChange}
<model [..]>
    <computeChange target="/sbml/model/listOfParameters/parameter[@id='w']">
      <listOfVariables>
        <variable id="camkii" name="active calcium/calmoduline kinase II" 
                  target="/sbml/model[@id='calcium']/listOfSpecies/species[@id='KII']" />
        <variable id="w" name="synaptic weight"
                  target="/sbml/model[@id='synapse']/listOfParameters/parameter[@id='w']" />
      <listOfVariables/>
      <listOfParameters>
        <parameter id="w0" name="synaptic weight change" value="1">
        <parameter id="n" name="utrasensitivity to calcium" value="2">
        <parameter id="K" name="sensitivity to calcium" value="1e-6">
      <listOfParameters/>
      <math>
         <apply>
           <plus />
           <ci>w</ci>
           <apply>
             <times />
             <ci>w0</ci>
             <apply>
               <divide />
               <apply>
                 <power />
                 <ci>camkii</ci>
                 <ci>n</ci>
               </apply>
               <apply>
                 <plus />
                 <apply>
                   <power />
                   <ci>K</ci>
                   <ci>n</ci>
                 </apply>
                 <apply>
                   <power />
                   <ci> camkii </ci>
                   <ci>n</ci>
                 </apply>
               </apply>
             </apply>
           </apply> 
         </apply>
      </math>
    </computeChange>
  </listOfChanges>
</model>
\end{myXmlLst}

\LoneVone supports the subset of MathML 2.0 shown in section \ref{sec:mathML}.
%

%A problem arises, because the individual supported model exchange languages allow different subsets of MathML. Thus, when an instance of ComputeChange replaces a %mathematical expression of  an SBML reaction, only the MathML subset allowed by SBML should be used here.


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../sed-ml-L1V1"
%%% End: 
