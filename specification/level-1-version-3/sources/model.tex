% ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
%% MODEL
% ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
\subsection{\element{Model}}
\label{class:model}
The \concept{Model} class defines the models used in a simulation experiment (\fig{sedModel}).

\sedfig[width=0.85\textwidth]{pdf/listOfChanges}{The SED-ML Model class}{fig:sedModel}

Each instance of the Model class has an unambiguous and mandatory \hyperref[sec:id]{\code{id}}. An additional, optional \hyperref[sec:name]{\code{name}} may be given to the model.

The \hyperref[sec:language]{\code{language}} may be specified, defining the format the model is encoded in, if such a format exists. Example formats are SBML or CellML.

The \concept{Model} class refers to the particular model of interest through the \hyperref[sec:model_source]{source} attribute. The restrictions on the model reference are
\begin{itemize}
 \item{the model must be encoded in an XML format}
 \item{To refer to the model encoding language, a reference to a valid definition of that XML format must be given (\hyperref[sec:language]{language} attribute).}
 \item{To refer to a particular model in an external resource, an unambiguous reference must be given (\hyperref[sec:model_source]{source} attribute).}
\end{itemize}

A model might need to undergo preprocessing before simulation. Those pre-processing steps are specified in the SED-ML \hyperref[class:change]{Change} class.

\tabtext{model}{model}

\begin{table}[ht]
\center
\begin{tabular}{ll}
\toprule
\textbf{\attribute} & \textbf{\desc}\\
\midrule
metaid$^{o}$ & \refpage{sec:metaID}\\
id & \refpage{sec:id} \\
name$^{o}$ & \refpage{sec:name}\\
\midrule
language$^{o}$ & \refpage{sec:language}\\
source & \refpage{sec:model_source}\\
\midrule
\textbf{\subelements} & \textbf{\desc}\\
\midrule
notes$^{o}$ & \refpage{class:notes}\\
annotation$^{o}$ & \refpage{class:annotation}\\
\midrule
change$^{o}$ & \refpage{class:change}\\
\bottomrule
\end{tabular}
\caption{\tabcap{model}}
\label{tab:model}
\end{table}

\lsttext{model}{model}

\begin{myXmlLst}{SED-ML \code{model} element}{lst:model}
<listOfModels>
	<model id="m0001" language="urn:sedml:language:sbml" 
		source="urn:miriam:biomodels.db:BIOMD0000000012">
		<listOfChanges>
			<change>
				[MODEL PRE-PROCESSING]
			</change>
		</listOfChanges> 
	</model>
	<model id="m0002" language="urn:sedml:language:sbml" source="m0001">
		<listOfChanges>
			[MODEL PRE-PROCESSING]
		</listOfChange>
	</model>
	<model id="m0003" language="urn:sedml:language:cellml" source="http://models.cellml.org/workspace/leloup_gonze_goldbeter_1999/@@rawfile/d6613d7e1051b3eff2bb1d3d419a445bb8c754ad/leloup_gonze_goldbeter_1999_a.cellml">
		[MODEL PRE-PROCESSING]
	</model>
</listOfModels>
\end{myXmlLst} 

The above \code{listOfModels} contains three models: The first model \code{m0001} is the Repressilator model taken from \biom. The original model is available from \url{urn:miriam:biomodels.db:BIOMD0000000012}. For the SED-ML simulation, the model might undergo preprocessing, described in the \hyperref[class:change]{change} element (lines 5-7). Based on the description of the first model \code{m0001}, the second model is built. It refers to the model \code{m001} in the \code{source} attribute, that is the modified version of the Repressilator model. \code{m0002} might then have even further changes applied to it on top of the changes defined in the pre-processing of \code{m0001}. The third model in the code example above (lines 13-15) is a different model in CellML representation. \code{m0003} is the model available from the given URL in the \code{source} attribute. Again, it might have additional pre-processing applied to it before used in the simulation.


% ~~~ MODEL:LANGUAGE ~~~
\subsubsection{\element{language}}
\label{sec:language}
The evaluation of a SED-ML document is required in order for software to decide whether or not it can be used in a particular simulation environment. One crucial criterion is the particular model representation language used to encode the model. A simulation software usually only supports a small subset of the representation formats available to model biological systems computationally. 

To help  software decide whether or not it supports a SED-ML description file, the information on the model encoding for each referenced model can be provided through the \concept{language} attribute, as the description of a language name and version through an unrestricted \code{String} is error-prone. 
A prerequisite for a language to be fully supported by SED-ML is that a formalised language definition, e.\,g. an XML Schema, is provided online. SED-ML also defines a set of standard URIs to refer to particular language definitions. 
The list of URNs for languages so far associated with SED-ML is available from the SED-ML web site on \url{http://sed-ml.org/}  (Section~\ref{sec:languageURI} on \refpage{sec:languageURI}). 
To specify language and version, following the idea of MIRIAM URNs, the SED-ML URN scheme \code{urn:sedml:language:}\emph{language name} is used. A model's language being ``SBML Level 2 Version 2'' can be referred to, for example, through the URN \code{urn:sedml:language:sbml.level-2.version-2}.

The \concept{language} attribute is optional in the XML representation of a SED-ML file. 
If it is not explicitly defined in the SED-ML file, the default value for the \concept{language} attribute is \code{urn:sedml:language:xml}, referring to any XML based model representation. 

However, the use of the \concept{language} attribute is strongly encouraged for two reasons. 
Firstly, it helps a user decide whether or not he is able to run the simulation, that is to parse the model referenced in the SED-ML file. 
Secondly, the language attribute is also needed to decide how to handle the implicit variables in the \hyperref[class:variable]{Variable} class, as the interpretation of implicit variables depends on the language of the representation format. The concept of implicit variables has been introduced in Section~\ref{sec:implicitVariable} on \refpage{sec:implicitVariable}.


% ~~~ MODEL:SOURCE ~~~
\subsubsection{\element{source}}
\label{sec:model_source}
To make a model available for the execution of a SED-ML file, the model \element{source} must be specified through either a URI or a reference to an \code{SId} of an existing Model. 

The URI should preferably point to a public, consistent location that provides the model description file and follows the proposed \hyperref[sec:uriScheme]{URI Scheme}. References to curated, open model bases are recommended, such as the BioModels Database. However, any resource registered with MIRIAM resources\footnote{\url{http://www.ebi.ac.uk/miriam/main/}} can easily be referenced. Even without a MIRIAM URN, SED-ML can be used (Section~\ref{sec:modelURI} on \refpage{sec:modelURI}).

An example for the definition of a model, and using the  \hyperref[sec:uriScheme]{URI scheme} is given in Listing~\ref{lst:sourceA}.

\begin{myXmlLst}{The SED-ML \code{source} element, using the URI scheme}{lst:sourceA}
<model id="m1" name="repressilator" language="urn:sedml:language:sbml" 
	source="urn:miriam:biomodels.db:BIOMD0000000012">
	<listOfChanges>
		[MODEL PRE-PROCESSING]
	</listOfChanges>
</model>
\end{myXmlLst}

The example defines one model \code{m1}. \code{urn:miriam:biomodels.db:BIOMD0000000012} defines the source of the model code. The MIRIAM URN can be resolved into the SBML model stored in BioModels Database under ID \element{BIOMD0000000012} using the MIRIAM web service. The resulting URL is \url{http://www.ebi.ac.uk/biomodels-main/BIOMD0000000012}.

An example for the definition of a model and using a URL is given in Listing~\ref{lst:sourceB}.

\begin{myXmlLst}{The SED-ML \code{source} element, using a URL}{lst:sourceB}
<model id="m1" name="repressilator" language="urn:sedml:language:cellml" 
	source="http://models.cellml.org/exposure/bba4e39f2c7ba8af51fd045463e7bdd3/aguda_b_1999.cellml">
	<listOfChanges />
</model>
\end{myXmlLst}

In the example one model is defined. The \element{language} of the model is \element{CellML}. As the CellML model repository currently does not provide a MIRIAM URI for model reference, the \emph{URL} pointing to the model code is used to refer to the model. The URL is given in the \element{source} attribute.


% ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
% CHANGE
% ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
\subsection[Change]{\element{Change}}
\label{class:change}
SED-ML not only allows to use the sole model for simulation, but also enables the description of \concept{changes} to be made on the model before simulation  (\fig{sedChange}). Changes can be of the following types:
\begin{itemize}
	\item{Changes on attributes of the model's XML representation (\hyperref[class:changeAttribute]{ChangeAttribute})}
	\item{Changes on any XML snippet of the model's XML representation (\hyperref[class:addXml]{AddXML}, \hyperref[class:changeXml]{ChangeXML}, \hyperref[class:removeXml]{RemoveXML})}
	\item{Changes based on mathematical calculations (\hyperref[class:computeChange]{ComputeChange})} 
\end{itemize}

The \concept{Change} class is abstract and serves as the base class for different types of changes.
Therefore, a SED-ML document will only contain the derived classes, i.e.\ \hyperref[class:changeAttribute]{ChangeAttribute}, \hyperref[class:addXml]{AddXML}, \hyperref[class:changeXml]{ChangeXML}, \hyperref[class:removeXml]{RemoveXML}, or \hyperref[class:computeChange]{ComputeChange}.

\sedfig[width=\textwidth]{pdf/changeClass}{The SED-ML Change class}{fig:sedChange}

\tabtext{change}{change}

\begin{table}[h!]
\center
\begin{tabular}{ll}
\toprule
\textbf{\attribute} & \textbf{\desc}\\
\midrule
metaid$^{o}$ & \refpage{sec:metaID}\\
id & \refpage{sec:id} \\
name$^{o}$ & \refpage{sec:name}\\
\midrule
target & \refpage{sec:target}\\
\midrule
\textbf{\subelements} & \textbf{\desc}\\
\midrule
notes$^{o}$ & \refpage{class:notes}\\
annotation$^{o}$ & \refpage{class:annotation}\\
\bottomrule
\end{tabular}
\caption{\tabcap{change}}
\label{tab:change}
\end{table}

Each Change has a \hyperref[sec:target]{target} attribute that holds a valid XPath expression pointing to the XML element or XML attribute that is to undergo the defined changes.
Except for the cases of \hyperref[class:changeXml]{ChangeXML} and \hyperref[class:removeXml]{RemoveXML}, this XPath expression must always select a \emph{single} element or attribute within the relevant model.


% ~~~ NewXML ~~~
\subsubsection{\element{NewXML}}
\label{sec:newXml}
The \code{newXML} element provides a piece of XML code (\fig{sedChange}). \code{NewXML} must hold a valid piece of XML which after insertion into the original model must lead to a valid model file, according to the model language specification (as given by the \hyperref[sec:language]{language} attribute).

\tabtext{newXML}{newXML}

\begin{table}[h!]
\center
\begin{tabular}{ll}
\toprule
\textbf{\attribute} & \textbf{\desc}\\
\midrule
\emph{none} & \\
\midrule
\textbf{\subelements} & \textbf{\desc}\\
\midrule
\emph{anyXML} & \\
\bottomrule
\end{tabular}
\caption{\tabcap{newXML}}
\label{tab:newXML}
\end{table}

The \code{newXML} element is used at two different places inside SED-ML \currentLV:

\begin{enumerate}
	\item{If it is used as a sub-element of the \hyperref[class:addXml]{addXML} element, then the XML it contains  it is to be \emph{inserted as a child} of the XML element addressed by the XPath.}
	\item{If it is used as a sub-element of the \hyperref[class:changeXml]{changeXML} element, then the XML it contains is to \emph{replace} the XML element addressed by the XPath.}
\end{enumerate}

Examples are given in the relevant change class definitions.


% ~~~ AddXML ~~~
\subsubsection{\element{AddXML}}
\label{class:addXml}
The \concept{AddXML} class specifies a snippet of XML that is to be added as a child of the element selected by the XPath expression in the \hyperref[sec:target]{target} attribute (\fig{addXMLClass}).
The new piece of XML code is provided by the \hyperref[sec:newXml]{NewXML} class.

\sedfig[width=0.85\textwidth]{pdf/addXMLClass}{The SED-ML \code{AddXML} class}{fig:addXMLClass}

\tabtext{addXml}{addXml}

\begin{table}[ht]
\center
\begin{tabular}{ll}
\toprule
\textbf{\attribute} & \textbf{\desc}\\
\midrule
metaid$^{o}$ & \refpage{sec:metaID}\\
id & \refpage{sec:id} \\
name$^{o}$ & \refpage{sec:name}\\
target & \refpage{sec:target}\\
\midrule
\textbf{\subelements} & \textbf{\desc}\\
\midrule
notes$^{o}$ & \refpage{class:notes}\\
annotation$^{o}$ & \refpage{class:annotation}\\
\midrule
newXML & \refpage{sec:newXml}\\
\bottomrule
\end{tabular}
\caption{\tabcap{addXML}}
\label{tab:addXml}
\end{table}

An example for a change that adds an additional parameter to a model is given in \lst{addXML}.

\begin{myXmlLst}{The \code{addXML} element with its \code{newXML} sub-element}{lst:addXML}
<model language="urn:sedml:language:sbml" [..]>
	<listOfChanges>
		<addXML target="/sbml:sbml/sbml:model/sbml:listOfParameters" >
			<newXML>
				<parameter metaid="metaid_0000010" id="V_mT" value="0.7" />
			</newXML>
		</addXML>
	</listOfChanges>
</model>
\end{myXmlLst}

The code of the model is changed so that a parameter with ID \code{V\_mT} is added to its list of parameters. The \code{newXML} element adds an additional XML element to the original model. The element's name is \code{parameter} and it is added to the existing parent element \code{listOfParameters} that is addressed by the XPath expression in the \code{target} attribute.


% ~~~ ChangeXML ~~~
\subsubsection{\element{ChangeXML}}
\label{class:changeXml}
The \concept{ChangeXML} class allows you to replace any XML element(s) in the model that can be addressed by a valid XPath expression (\fig{changeXml}).

\sedfig[width=0.75\textwidth]{pdf/changeXmlClass}{The \code{ChangeXML} class}{fig:changeXml}

The XPath expression is specified in the required \hyperref[sec:target]{target} attribute (Section~\ref{sec:target} on \refpage{sec:target}).
The replacement XML content is specified in the \hyperref[sec:newXml]{NewXML} class.

\tabtext{changeXml}{changeXml}

\begin{table}[ht]
\center
\begin{tabular}{ll}
\toprule
\textbf{\attribute} & \textbf{\desc}\\
\midrule
metaid$^{o}$ & \refpage{sec:metaID}\\
id & \refpage{sec:id} \\
name$^{o}$ & \refpage{sec:name}\\
target & \refpage{sec:target}\\
\midrule
\textbf{\subelements} & \textbf{\desc}\\
\midrule
notes$^{o}$ & \refpage{class:notes}\\
annotation$^{o}$ & \refpage{class:annotation}\\
\midrule
newXML & \refpage{sec:newXml}\\
\bottomrule
\end{tabular}
\caption{\tabcap{changeXML}}
\label{tab:changeXml}
\end{table}

An example for a change that adds an additional parameter to a model is given in \lst{changeXML}.

\begin{myXmlLst}{The \code{changeXML} element}{lst:changeXML}
<model [..]>
	<listOfChanges>
		<changeXML target="/sbml:sbml/sbml:model/sbml:listOfParameters/sbml:parameter[@id='V_mT']" >
			<newXML>
				<parameter metaid="metaid_0000010" id="V_mT_1" value="0.7" />
				<parameter metaid="metaid_0000050" id="V_mT_2" value="4.6"> />
			</newXML>
		</changeXML>
	</listOfChanges>
</model>
\end{myXmlLst}

The code of the model is changed in the way that its parameter with ID \code{V\_mT} is substituted by two other parameters \code{V\_mT\_1} and \code{V\_mT\_2}. The \code{target} attribute defines that the parameter with ID \code{V\_mT} is to be changed. The \code{newXML} element then specifies the XML that is to be exchanged for that parameter.


%% ~~~ RemoveXML ~~~
\subsubsection{\element{RemoveXML}}
\label{class:removeXml}
The \concept{RemoveXML} class can be used to delete XML elements or attributes in the model that are addressed by the XPath expression (\fig{removeXml}).

\sedfig[width=0.3\textwidth]{pdf/removeXmlClass}{The \code{RemoveXML} class}{fig:removeXml}

The XPath is specified in the required \hyperref[sec:target]{target} attribute.

\tabtext{removeXml}{removeXml}

\begin{table}[ht]
\center
\begin{tabular}{ll}
\toprule
\textbf{\attribute} & \textbf{\desc}\\
\midrule
metaid$^{o}$ & \refpage{sec:metaID}\\
id & \refpage{sec:id} \\
name$^{o}$ & \refpage{sec:name}\\
target & \refpage{sec:target}\\
\midrule
\textbf{\subelements} & \textbf{\desc}\\
\midrule
notes$^{o}$ & \refpage{class:notes}\\
annotation$^{o}$ & \refpage{class:annotation}\\
\hline
\end{tabular}
\caption{\tabcap{removeXML}}
\label{tab:removeXml}
\end{table}

An example for the removal of an XML element from a model is given in Listing~\ref{lst:removeXML}.

\begin{myXmlLst}{The \code{removeXML} element}{lst:removeXML}
<model [..]>
	<listOfChanges>
		<removeXML target="/sbml:sbml/sbml:model/sbml:listOfReactions/sbml:reaction[@id='J1']" />
	</listOfChanges>
</model>
\end{myXmlLst}

The code of the model is changed by deleting the reaction with ID \code{V\_mT} from the model's list of reactions.


% ~~~ ChangeAttribute ~~~
\subsubsection{\element{ChangeAttribute}}
\label{class:changeAttribute}
The \concept{ChangeAttribute} class allows to define updates on the XML attribute values of the corresponding model (\fig{changeAttribute}).

\sedfig[width=0.75\textwidth]{pdf/changeAttributeClass}{The \code{ChangeAttribute} class}{fig:changeAttribute}

The \concept{ChangeXML} class covers the possibilities provided by the \hyperref[class:changeAttribute]{ChangeAttribute} class. That is, everything that can be expressed by a \hyperref[class:changeAttribute]{ChangeAttribute} construct can also be expressed by a \concept{ChangeXML}. However, for the common case of changing an attribute value \concept{ChangeAttribute} is easier to use, and so it is recommended to use the \concept{ChangeAttribute} for any changes of an XML attribute's value, and to use the more general \hyperref[class:changeXml]{ChangeXML} for other cases.

\concept{ChangeAttribute} requires to specify the \hyperref[sec:target]{target} of the change, i.\,e.\ the location of the addressed XML attribute, and also the \hyperref[sec:newValue]{new value} of that attribute.
Note that the XPath expression in the \concept{target} attribute must select a single attribute within the corresponding model.

\tabtext{changeAttribute}{changeAttribute}

\begin{table}[h!]
\center
\begin{tabular}{ll}
\toprule
\textbf{\attribute} & \textbf{\desc}\\
\midrule
metaid$^{o}$ & \refpage{sec:metaID}\\
id & \refpage{sec:id} \\
name$^{o}$ & \refpage{sec:name}\\
\midrule
target & \refpage{sec:target}\\
newValue & \refpage{sec:newValue}\\
\midrule
\textbf{\subelements} & \textbf{\desc}\\
\midrule
notes$^{o}$ & \refpage{class:notes}\\
annotation$^{o}$ & \refpage{class:annotation}\\
\bottomrule
\end{tabular}
\caption{\tabcap{ChangeAttribute}}
\label{tab:changeAttribute}
\end{table}

\paragraph{\element{newValue}}
\label{sec:newValue}
The mandatory \code{newValue} attribute assignes a new value to the targeted XML attribute. 

The example in Listing~\ref{lst:changeAttribute} shows the update of the initial concentration of two parameters inside an SBML model.

\begin{myXmlLst}{The \code{changeAttribute} element and its \code{newValue} attribute}{lst:changeAttribute}
<model id="model1" name="Circadian Chaos" language="urn:sedml:language:sbml" 
	source="urn:miriam:biomodels.db:BIOMD0000000021">
	<listOfChanges>
		<changeAttribute target="/sbml:sbml/sbml:model/sbml:listOfParameters/sbml:parameter[@id='V_mT']/@value" newValue="0.28"/>
  		<changeAttribute target="/sbml:sbml/sbml:model/sbml:listOfParameters/sbml:parameter[@id='V_dT']/@value" newValue="4.8"/>
	</listOfChanges>
</model>
\end{myXmlLst}


% ~~~ ComputeChange ~~~
\subsubsection{\element{ComputeChange}}
\label{class:computeChange}
The \concept{ComputeChange} class permits to change, prior to the experiment, the numerical value of any element or attribute of a model addressable by an XPath expression, based on a calculation (\fig{computeChange}).

\sedfig[width=0.85\textwidth]{pdf/computeChangeClass}{The \code{ComputeChange} class}{fig:computeChange}

The computed new value is described by a mathematical expression using a \hyperref[sec:mathML]{subset of MathML} (see section \ref{sec:mathML} on \refpage{sec:mathML}). The computation can use the value of variables from any model defined in the simulation experiment.
Those \hyperref[class:variable]{variables} need to be defined, and can then be addressed by their ID.
A variable used in a \concept{ComputeChange} must carry a \hyperref[sec:modelReference]{modelReference} attribute (\refpage{sec:modelReference}) but no \hyperref[sec:taskReference]{taskReference} attribute (\refpage{sec:taskReference}).
To carry out the calculation it may be necessary to introduce additional parameters, that are not defined in any of the models used by the experiment. This is done through the \hyperref[class:parameter]{parameter} class, and such parameters are thereafter refered to by their ID. Finally, the change itself is specified using an instance of the \hyperref[sec:math]{Math} class.

Note that where a \concept{ComputeChange} refers to another model, that model is not allowed to be modified by \concept{ComputeChange}s which directly or indirectly refer to this model.
In other words, cycles in the definitions of computed changes are prohibited, since then the new values would not be well defined.

\tabtext{computeChange}{computeChange}

\begin{table}[ht]
\center
\begin{tabular}{ll}
\toprule
\textbf{\attribute} & \textbf{\desc}\\
\midrule
metaid$^{o}$ & \refpage{sec:metaID}\\
id & \refpage{sec:id} \\
name$^{o}$ & \refpage{sec:name}\\
\midrule
target & \refpage{sec:target}\\
\midrule
\textbf{\subelements} & \textbf{\desc}\\
\midrule
notes$^{o}$ & \refpage{class:notes}\\
annotation$^{o}$ & \refpage{class:annotation}\\
\midrule
listOfVariables$^{o}$ & \refpage{sec:listOfVariables}\\
listOfParameters$^{o}$ & \refpage{sec:listOfParameters}\\
math &\refpage{sec:math}\\
\bottomrule
\end{tabular}
\caption{\tabcap{computeChange}}
\label{tab:computeChange}
\end{table}

\paragraph{\element{Math}}
\label{sec:math}

The \element{Math} element encodes mathematical functions. 
If used as an element of the \concept{ComputeChange} class, it computes the change of the element or attribute addressed by the \hyperref[sec:target]{target} attribute.
\currentLV supports the subset of MathML 2.0 shown in section \ref{sec:mathML}.

\lsttext{computeChange}{computeChange}

\begin{myXmlLst}{The computeChange element}{lst:computeChange}
<model [..]>
	<listOfChanges>
	<computeChange target="/sbml:sbml/sbml:model/sbml:listOfParameters/sbml:parameter[@id='sensor']">
		<listOfVariables>
			<variable modelReference="model1" id="R" name="regulator" 
				target="/sbml:sbml/sbml:model/sbml:listOfSpecies/sbml:species[@id='regulator']" />
			<variable modelReference="model2" id="S" name="sensor"
				target="/sbml:sbml/sbml:model/sbml:listOfParameters/sbml:parameter[@id='sensor']" />
		<listOfVariables/>
		<listOfParameters>
			<parameter id="n" name="cooperativity" value="2">
			<parameter id="K" name="sensitivity" value="1e-6">
		<listOfParameters/>
		<math  xmlns="http://www.w3.org/1998/Math/MathML">
        <apply>
          <times />
          <ci>S</ci>
          <apply>
            <divide />
            <apply>
              <power />
              <ci>R</ci>
              <ci>n</ci>
            </apply>
            <apply>
              <plus />
              <apply>
                <power />
                <ci>K</ci>
                <ci>n</ci>
              </apply>
              <apply>
                <power />
                <ci>R</ci>
                <ci>n</ci>
              </apply>
            </apply> 
		</apply>
		</math>
	</computeChange>
	</listOfChanges>
</model>
\end{myXmlLst}

The example in \lst{computeChange} computes a change of the variable \code{sensor} of the model \code{model2}. To do so, it uses the value of the variable \code{regulator} coming from model \code{model1}. In addition, the calculation used two additional parameters, the cooperativity \code{n}, and the sensitivity \code{K}.
The mathematical expression in the mathML then computes the new initial value of \code{sensor} using the equation:

\begin{math}
S =  S \times \frac{R^{n}}{K^{n}+R^{n}}
\end{math}
